
<%- include("PageHeader") %>

<body>
    <!-- Page Preloder -->
    <div id="preloder">
        <div class="loader"></div>
    </div>

    <div class="container-fluid mycontainer">
        <div style="height :100px;" class="row header">
            <div class="header-title">
                <div class="header-title-img">
                    <img src="../img/logo.png" alt="" />
                </div>
                <div class="header-title-btn">
                    <div class="header-title-btn__name">Hello,Customer</div>
                    <a href="/logout" class="mybtn test__link" style="background-color: #f14e4e;">
                        <i class="fa fa-power-off" aria-hidden="true"></i>
                        Sign Out
                    </a>
                </div>
            </div>
        </div>
        <div class="row form gradient-bg">
            <div class="row form-title">

                <h2>Personal Informaton</h2>
                <p>Update Informaton,Terms required when using the service</p>
                <%- include('ShowMessage') %>
            </div>
            <div class="row form-main">
                <form enctype="multipart/form-data" method="POST" class="form-group" id="FormInfo" name="FormInfo">
                    <div class="row">
                        <label class="row">Full Name</label>
                        <input class="row myinput" type="text" name="Fullname" id="Fullname"
                            placeholder="Write Here..." />
                    </div>

                    <div class="row form-row">
                        <div class="col-md-6">
                            <label class="row">Date of Birth</label>
                            <input class="row myinput" name="DOB" type="date" value="yyyy-MM-dd" />
                        </div>

                        <div class="col-md-6">
                            <label class="row" for="identify">Gender</label>
                            <select class="row myinput" id="identify" name="Gender">
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                            </select>
                        </div>
                    </div>
                    <div class="row">
                        <label class="row">Phone Number</label>
                        <input class="row myinput" type="text" name="Phone" id="Phone" placeholder="Write Here..." />
                    </div>
                    <div class="row">
                        <label class="row">Address</label>
                        <input class="row myinput" type="text" name="Address" id="Address"
                            placeholder="Write Here..." />
                    </div>

                    <div class="row">
                        <div class="col-md-4">
                            <label class="row" for="Identify"> Identity Papers</label>
                            <select class="row myinput" id="Identify" name="Identify">
                                <option value="CMMD">CMMD</option>
                                <option value="CCCD">CCCD</option>
                                <option value="Passport">Passport</option>
                            </select>
                        </div>
                        <div class="col-md-4">
                            <label class="row" for="IndentifyNumber">Identify Number</label>
                            <input type="text" class="row myinput" name="IdentifyNumber" id="IndentifyNumber"
                                placeholder="Write here..." />
                        </div>
                        <div class="col-md-4">
                            <label class="row" for="IndentifyDate">Identify Date</label>
                            <div>
                                <input id="IndentifyDate" name="IdentifyDate" class="row myinput" type="date"
                                    value="yyyy-MM-dd" />
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <label class="row" for="identify_num">Image Identify</label>
                        <div class="row box">
                            <div class="col-md-6 box-item">
                                <label class="row" for="identify_num">Image Identify Font</label>
                                <div class="row box-img">
                                    <img id="imgFont" name="imgFont" src="../../img/about-img.png" alt="">
                                </div>
                                <div class="row box-btn">
                                    <input type="button" id="btnFont" value="Choose Image">
                                    <input accept="image/*" id="imgFontFile" type="file" name="imgFontFile"
                                        style="display: none;" onchange="ShowImage(this)" />
                                </div>
                            </div>
                            <div class="col-md-6 box-item">
                                <label class="row" for="identify_num">Image Identify End</label>
                                <div class="row box-img">
                                    <img id="imgEnd" name=" " src="../../img/about-img.png" alt="">
                                </div>
                                <div class="row box-btn">
                                    <input type="button" id="btnEnd" value="Choose Image">
                                    <input accept="image/*" id="imgEndFile"  onchange="ShowImage(this)" type="file"
                                        name="imgEndFile" style="display: none;" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row btnsub">
                        <input id="Submit" type="submit" value="Submit" class="btn" />
                    </div>
                </form>
            </div>
        </div>
    </div>
</body>
<%- include("PageFooter") %>

<script>
    $(document).ready(function () {
        // $('#btnFont').on('click', function () {
        //     $('#imgFont').trigger('click');
        // });
        $('#btnFont').on('click', function () {
            $('#imgFontFile').trigger('click');

        });

        $('#btnEnd').on('click', function () {
            $('#imgEndFile').trigger('click');
        });

        const validate = require('jquery-validation');

        $('#FormInfo').validate({
            onfocusout: false,
            onkeyup: false,
            onclick: false,
            rules: {
                "Fullname": {
                    required: true,
                    maxlength: 15
                }
            },
            messages: {
                required: "Full not empty"
            }
        })

    });

    function ShowImage(e) {

        const flag = (e.id).toLowerCase().indexOf('font') !== -1 ? true : false
        console.log(flag);
        const reader = new FileReader();
        reader.onload = function (e) {
            if (flag) $("#imgFont").attr("src", e.target.result);
            else $("#imgEnd").attr("src", e.target.result);
        }
        //Imagepath.files[0] is blob type
        reader.readAsDataURL(e.files[0]);
    }
</script>

